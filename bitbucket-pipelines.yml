# This is a sample build configuration for C++ – Make.
# Check our guides at https://confluence.atlassian.com/x/5Q4SMw for more examples.
# Only use spaces to indent your .yml configuration.
# -----
# You can specify a custom docker image from Docker Hub as your build environment.
#image: gcc:6.1
image: rootproject/root-centos
pipelines:
  default:
    - step:
        name: Build and Test agana
        script: # Modify the commands below to build your repository.
           - export ROOT_INCLUDE_PATH="/usr/include/root"
           - yum install -y lesstif-devel libXmu libXmu-devel eos-*
           - git clone https://jtkm@bitbucket.org/tmidas/rootana.git
           - cd rootana
           - make
           - export ROOTANASYS=`pwd`
           - echo "${ROOTANASYS}"
           - cd ../ana
           - make
           - cd ..
           - . agconfig.sh clean
           - cd scripts/gitChecker
           - ./RunChecker.sh
